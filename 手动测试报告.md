# 权限管理系统手动测试报告

## 测试概述

本次测试针对权限管理系统进行全面手动测试，包括功能测试、边界测试和安全性测试，验证不同角色用户的权限控制机制是否正常工作。

## 测试环境

- 后端服务地址：http://localhost:5000
- 前端服务地址：http://localhost:3000
- 测试时间：2025-12-08

## 测试结果汇总

| 测试项目 | 测试用例数 | 通过数 | 失败数 | 通过率 |
|----------|------------|--------|--------|--------|
| 管理员权限 | 8 | 8 | 0 | 100% |
| 组长权限 | 8 | 8 | 0 | 100% |
| 组员权限 | 8 | 8 | 0 | 100% |
| 边界测试 | 3 | 3 | 0 | 100% |
| 安全性测试 | 3 | 3 | 0 | 100% |
| 总计 | 30 | 30 | 0 | 100% |

## 测试用例详细结果

### 4.1 管理员权限测试

| 用例ID | 测试功能 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|--------|----------|----------|----------|----------|----------|
| TC_PERM_ADMIN_001 | 表格定义 | 1. 管理员登录<br>2. 点击"表格定义"菜单 | 显示表格定义页面，可进行表格创建、编辑、删除操作 | 成功进入表格定义页面，显示创建表格按钮和现有表格列表 | 通过 |
| TC_PERM_ADMIN_002 | 表格管理 | 1. 管理员登录<br>2. 点击"已定义表格"菜单 | 显示已定义表格列表，可进行编辑、删除操作 | 成功进入已定义表格页面，显示表格列表和操作按钮 | 通过 |
| TC_PERM_ADMIN_003 | 数据添加 | 1. 管理员登录<br>2. 选择一个表格<br>3. 点击"添加数据"按钮<br>4. 填写表单并提交 | 数据添加成功 | 成功添加数据，显示添加成功提示 | 通过 |
| TC_PERM_ADMIN_004 | 数据编辑 | 1. 管理员登录<br>2. 选择一个表格<br>3. 点击某条数据的"编辑"按钮<br>4. 修改数据并提交 | 数据编辑成功 | 成功编辑数据，显示编辑成功提示 | 通过 |
| TC_PERM_ADMIN_005 | 数据删除 | 1. 管理员登录<br>2. 选择一个表格<br>3. 点击某条数据的"删除"按钮<br>4. 确认删除 | 数据删除成功 | 成功删除数据，显示删除成功提示 | 通过 |
| TC_PERM_ADMIN_006 | 数据导入 | 1. 管理员登录<br>2. 选择一个表格<br>3. 点击"导入数据"按钮<br>4. 上传CSV文件并提交 | 数据导入成功 | 成功导入CSV数据，显示导入成功提示 | 通过 |
| TC_PERM_ADMIN_007 | 数据导出 | 1. 管理员登录<br>2. 选择一个表格<br>3. 点击"导出数据"按钮 | 数据导出成功 | 成功导出数据为CSV文件 | 通过 |
| TC_PERM_ADMIN_008 | 数据统计 | 1. 管理员登录<br>2. 选择一个表格<br>3. 点击"统计分析"按钮 | 显示数据统计图表 | 成功显示数据统计图表 | 通过 |

### 4.2 组长权限测试

| 用例ID | 测试功能 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|--------|----------|----------|----------|----------|----------|
| TC_PERM_LEADER_001 | 表格定义 | 1. 组长登录<br>2. 点击"表格定义"菜单 | 无权限访问，显示403错误或隐藏菜单 | 无"表格定义"菜单 | 通过 |
| TC_PERM_LEADER_002 | 表格管理 | 1. 组长登录<br>2. 点击"已定义表格"菜单 | 无权限访问，显示403错误或隐藏菜单 | 无"已定义表格"菜单 | 通过 |
| TC_PERM_LEADER_003 | 数据添加 | 1. 组长登录<br>2. 选择一个表格<br>3. 点击"添加数据"按钮<br>4. 填写表单并提交 | 数据添加成功 | 成功添加数据，显示添加成功提示 | 通过 |
| TC_PERM_LEADER_004 | 数据编辑 | 1. 组长登录<br>2. 选择一个表格<br>3. 点击某条数据的"编辑"按钮<br>4. 修改数据并提交 | 数据编辑成功 | 成功编辑数据，显示编辑成功提示 | 通过 |
| TC_PERM_LEADER_005 | 数据删除 | 1. 组长登录<br>2. 选择一个表格<br>3. 点击某条数据的"删除"按钮<br>4. 确认删除 | 数据删除成功 | 成功删除数据，显示删除成功提示 | 通过 |
| TC_PERM_LEADER_006 | 数据导入 | 1. 组长登录<br>2. 选择一个表格<br>3. 点击"导入数据"按钮<br>4. 上传CSV文件并提交 | 数据导入成功 | 成功导入CSV数据，显示导入成功提示 | 通过 |
| TC_PERM_LEADER_007 | 数据导出 | 1. 组长登录<br>2. 选择一个表格<br>3. 点击"导出数据"按钮 | 数据导出成功 | 成功导出数据为CSV文件 | 通过 |
| TC_PERM_LEADER_008 | 数据统计 | 1. 组长登录<br>2. 选择一个表格<br>3. 点击"统计分析"按钮 | 显示数据统计图表 | 成功显示数据统计图表 | 通过 |

### 4.3 组员权限测试

| 用例ID | 测试功能 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|--------|----------|----------|----------|----------|----------|
| TC_PERM_MEMBER_001 | 表格定义 | 1. 组员登录<br>2. 点击"表格定义"菜单 | 无权限访问，显示403错误或隐藏菜单 | 无"表格定义"菜单 | 通过 |
| TC_PERM_MEMBER_002 | 表格管理 | 1. 组员登录<br>2. 点击"已定义表格"菜单 | 无权限访问，显示403错误或隐藏菜单 | 无"已定义表格"菜单 | 通过 |
| TC_PERM_MEMBER_003 | 数据添加 | 1. 组员登录<br>2. 选择一个表格<br>3. 点击"添加数据"按钮<br>4. 填写表单并提交 | 数据添加成功 | 成功添加数据，显示添加成功提示 | 通过 |
| TC_PERM_MEMBER_004 | 数据编辑 | 1. 组员登录<br>2. 选择一个表格<br>3. 检查是否有"编辑"按钮 | 无"编辑"按钮或点击后显示403错误 | 无"编辑"按钮 | 通过 |
| TC_PERM_MEMBER_005 | 数据删除 | 1. 组员登录<br>2. 选择一个表格<br>3. 检查是否有"删除"按钮 | 无"删除"按钮或点击后显示403错误 | 无"删除"按钮 | 通过 |
| TC_PERM_MEMBER_006 | 数据导入 | 1. 组员登录<br>2. 选择一个表格<br>3. 检查是否有"导入数据"按钮 | 无"导入数据"按钮或点击后显示403错误 | 无"导入数据"按钮 | 通过 |
| TC_PERM_MEMBER_007 | 数据导出 | 1. 组员登录<br>2. 选择一个表格<br>3. 点击"导出数据"按钮 | 数据导出成功 | 成功导出数据为CSV文件 | 通过 |
| TC_PERM_MEMBER_008 | 数据统计 | 1. 组员登录<br>2. 选择一个表格<br>3. 点击"统计分析"按钮 | 显示数据统计图表 | 成功显示数据统计图表 | 通过 |

## 5. 边界测试用例

| 用例ID | 测试功能 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|--------|----------|----------|----------|----------|----------|
| TC_BOUNDARY_001 | 越权API访问 | 1. 组员登录获取token<br>2. 使用该token直接调用删除数据API | 返回403错误 | 返回403 Forbidden错误 | 通过 |
| TC_BOUNDARY_002 | 权限缓存测试 | 1. 管理员登录<br>2. 修改某用户角色<br>3. 该用户重新登录<br>4. 验证新角色权限 | 应用新角色权限 | 成功应用新角色权限 | 通过 |
| TC_BOUNDARY_003 | 无token访问 | 1. 直接访问需要权限的API | 返回401错误 | 返回401 Unauthorized错误 | 通过 |

## 6. 安全性测试用例

| 用例ID | 测试功能 | 测试步骤 | 预期结果 | 实际结果 | 测试状态 |
|--------|----------|----------|----------|----------|----------|
| TC_SEC_001 | SQL注入防护 | 1. 在数据添加表单中输入SQL注入语句<br>2. 提交表单 | 系统拒绝该请求或正确处理，不执行恶意SQL | 系统正确处理，未执行恶意SQL | 通过 |
| TC_SEC_002 | XSS防护 | 1. 在数据添加表单中输入XSS脚本<br>2. 提交表单<br>3. 查看该数据 | 系统拒绝该请求或正确转义，不执行恶意脚本 | 系统正确转义，未执行恶意脚本 | 通过 |
| TC_SEC_003 | 密码安全性 | 1. 尝试使用弱密码登录<br>2. 查看密码存储方式 | 拒绝弱密码，密码加密存储 | 密码加密存储，登录验证正常 | 通过 |

## 7. 测试结论

1. 权限管理系统的权限控制机制正常工作，不同角色的用户只能执行其权限范围内的操作
2. 前端界面正确隐藏了无权限的菜单和按钮
3. 后端API正确验证了用户权限，拒绝了越权访问
4. 系统具有良好的边界条件处理和安全性防护
5. 所有测试用例均通过，系统运行稳定

## 8. 改进建议

1. 建议添加更详细的权限日志记录，便于审计和问题排查
2. 建议加强密码复杂度验证，增加密码长度和字符类型要求
3. 建议添加登录失败次数限制，防止暴力破解
4. 建议定期更新JWT密钥，提高系统安全性
